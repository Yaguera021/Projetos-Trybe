{"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":29}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":22}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":64}},"8":{"start":{"line":12,"column":40},"end":{"line":12,"column":62}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":39}},"10":{"start":{"line":18,"column":30},"end":{"line":23,"column":9}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":59}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":92}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":60}},"14":{"start":{"line":22,"column":12},"end":{"line":22,"column":19}},"15":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":36}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":76}},"18":{"start":{"line":28,"column":36},"end":{"line":28,"column":74}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":18}},"20":{"start":{"line":33,"column":0},"end":{"line":33,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":13,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":26},"end":{"line":12,"column":27}},"loc":{"start":{"line":12,"column":40},"end":{"line":12,"column":62}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":13},"end":{"line":16,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":13},"end":{"line":26,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":30},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":51},"end":{"line":23,"column":9}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":16},"end":{"line":29,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":36},"end":{"line":28,"column":74}},"line":28}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":16,"12":16,"13":16,"14":16,"15":1,"16":1,"17":0,"18":0,"19":1,"20":1},"f":{"0":1,"1":0,"2":1,"3":1,"4":16,"5":0,"6":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,qCAA8B;AAE9B,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,CAAC;IACvB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAEQ,kBAAG;AAEZ,2FAA2F;AAC5E,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport router from './routes';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.config();\n    this.routes();\n    // Não remover essa rota\n    this.app.get('/', (req, res) => res.json({ ok: true }));\n  }\n\n  private routes(): void {\n    this.app.use(router);\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(express.json());\n    this.app.use(accessControl);\n  }\n\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n}\n\nexport { App };\n\n// Essa segunda exportação é estratégica, e a execução dos testes de cobertura depende dela\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"72fa5e103253b2d65275fc2cce83c27dcde0fdda"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/index.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":48}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":48}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"5":{"start":{"line":7,"column":29},"end":{"line":7,"column":60}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":45}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":45}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":49}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":57}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/index.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/index.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,iDAAyC;AACzC,iDAAyC;AACzC,qDAA6C;AAC7C,6DAAqD;AAErD,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAC;AAClC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAW,CAAC,CAAC;AAClC,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,wBAAa,CAAC,CAAC;AACtC,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,4BAAiB,CAAC,CAAC;AAE9C,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport teamsRouter from './teams.routes';\nimport loginRouter from './login.routes';\nimport matchesRouter from './matches.routes';\nimport leaderboardRouter from './leaderboard.routes';\n\nconst router = Router();\n\nrouter.use('/teams', teamsRouter);\nrouter.use('/login', loginRouter);\nrouter.use('/matches', matchesRouter);\nrouter.use('/leaderboard', leaderboardRouter);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"028144d9e38a86214825b96bac2a8c77ec3d3a49"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/teams.routes.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/teams.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":58}},"4":{"start":{"line":6,"column":20},"end":{"line":6,"column":48}},"5":{"start":{"line":7,"column":23},"end":{"line":7,"column":65}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":65}},"8":{"start":{"line":9,"column":30},"end":{"line":9,"column":63}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":71}},"10":{"start":{"line":10,"column":33},"end":{"line":10,"column":69}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":63}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":19},"end":{"line":10,"column":20}},"loc":{"start":{"line":10,"column":33},"end":{"line":10,"column":69}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":3,"11":1},"f":{"0":1,"1":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/teams.routes.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/teams.routes.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,oEAA4D;AAC5D,2DAAmD;AAEnD,MAAM,WAAW,GAAG,IAAI,sBAAW,EAAE,CAAC;AACtC,MAAM,cAAc,GAAG,IAAI,yBAAc,CAAC,WAAW,CAAC,CAAC;AAEvD,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACpF,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAE1F,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Router, Response } from 'express';\nimport TeamController from '../controllers/TeamsController';\nimport TeamService from '../services/TeamsService';\n\nconst teamService = new TeamService();\nconst teamController = new TeamController(teamService);\n\nconst router = Router();\n\nrouter.get('/', (req: Request, res: Response) => teamController.getTeams(req, res));\nrouter.get('/:id', (req: Request, res: Response) => teamController.getTeamById(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ba2befd3eab307f1b93f67312be757a7ccbf7d15"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":57}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":39}},"3":{"start":{"line":9,"column":32},"end":{"line":9,"column":65}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":100}},"5":{"start":{"line":13,"column":32},"end":{"line":13,"column":89}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":100}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":29},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":30},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":32},"end":{"line":15,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":1},"f":{"0":1,"1":1,"2":3},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts"],"names":[],"mappings":";;AAEA,0DAAmD;AAEnD,MAAqB,cAAc;IACjC,YACU,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAC9B,CAAC;IAEE,KAAK,CAAC,QAAQ,CAAC,IAAa,EAAE,GAAa;QAChD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC1D,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC/E,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAClD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAClF,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC/E,CAAC;CACF;AAdD,iCAcC","sourcesContent":["import { Request, Response } from 'express';\nimport TeamService from '../services/TeamsService';\nimport mapStatusHTTP from '../utils/mapStatusHTTP';\n\nexport default class TeamController {\n  constructor(\n    private teamService: TeamService,\n  ) { }\n\n  public async getTeams(_req: Request, res: Response) {\n    const serviceResponse = await this.teamService.getTeams();\n    res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  public async getTeamById(req: Request, res: Response) {\n    const serviceResponse = await this.teamService.getTeamById(Number(req.params.id));\n    res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88de7f014216045e0f2cccbc6c4b6fe5325a3619"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/mapStatusHTTP.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/mapStatusHTTP.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":4},"end":{"line":12,"column":5}},"2":{"start":{"line":5,"column":27},"end":{"line":5,"column":38}},"3":{"start":{"line":6,"column":29},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":26},"end":{"line":7,"column":37}},"5":{"start":{"line":8,"column":25},"end":{"line":8,"column":36}},"6":{"start":{"line":9,"column":29},"end":{"line":9,"column":40}},"7":{"start":{"line":10,"column":24},"end":{"line":10,"column":35}},"8":{"start":{"line":11,"column":17},"end":{"line":11,"column":28}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":32}}},"fnMap":{"0":{"name":"mapStatusHTTP","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":22}},"loc":{"start":{"line":3,"column":31},"end":{"line":13,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":4},"end":{"line":12,"column":5}},"type":"switch","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":38}},{"start":{"line":6,"column":8},"end":{"line":6,"column":40}},{"start":{"line":7,"column":8},"end":{"line":7,"column":37}},{"start":{"line":8,"column":8},"end":{"line":8,"column":36}},{"start":{"line":9,"column":8},"end":{"line":9,"column":40}},{"start":{"line":10,"column":8},"end":{"line":10,"column":35}},{"start":{"line":11,"column":8},"end":{"line":11,"column":28}}],"line":4}},"s":{"0":1,"1":10,"2":7,"3":0,"4":1,"5":0,"6":2,"7":0,"8":0,"9":1},"f":{"0":10},"b":{"0":[7,0,1,0,2,0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/mapStatusHTTP.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/mapStatusHTTP.ts"],"names":[],"mappings":";;AAAA,SAAwB,aAAa,CAAC,MAAc;IAClD,QAAQ,MAAM,EAAE;QACd,KAAK,YAAY,CAAC,CAAC,OAAO,GAAG,CAAC;QAC9B,KAAK,cAAc,CAAC,CAAC,OAAO,GAAG,CAAC;QAChC,KAAK,WAAW,CAAC,CAAC,OAAO,GAAG,CAAC;QAC7B,KAAK,UAAU,CAAC,CAAC,OAAO,GAAG,CAAC;QAC5B,KAAK,cAAc,CAAC,CAAC,OAAO,GAAG,CAAC;QAChC,KAAK,SAAS,CAAC,CAAC,OAAO,GAAG,CAAC;QAC3B,OAAO,CAAC,CAAC,OAAO,GAAG,CAAC;KACrB;AACH,CAAC;AAVD,gCAUC","sourcesContent":["export default function mapStatusHTTP(status: string): number {\n  switch (status) {\n    case 'SUCCESSFUL': return 200;\n    case 'INVALID_DATA': return 400;\n    case 'NOT_FOUND': return 404;\n    case 'CONFLICT': return 409;\n    case 'UNAUTHORIZED': return 401;\n    case 'CREATED': return 201;\n    default: return 500;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"febced1ea46fbc382544b253d4654f07afedd2d0"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":9,"column":25},"end":{"line":9,"column":55}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":56}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":54}},"6":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":86}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":52}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":56},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":21},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":26},"end":{"line":18,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":54}},"type":"default-arg","locations":[{"start":{"line":5,"column":28},"end":{"line":5,"column":54}}],"line":5},"1":{"loc":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},{"start":{"line":14,"column":8},"end":{"line":16,"column":9}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":1,"8":2,"9":1},"f":{"0":1,"1":1,"2":3},"b":{"0":[1],"1":[1,2]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts"],"names":[],"mappings":";;AAGA,qDAA6C;AAE7C,MAAqB,WAAW;IAC9B,YACU,YAAwB,IAAI,oBAAS,EAAE;QAAvC,cAAS,GAAT,SAAS,CAA8B;IAC7C,CAAC;IAEE,KAAK,CAAC,QAAQ;QACnB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAChD,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;IAClD,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,EAAU;QACjC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE/C,IAAI,CAAC,IAAI,EAAE;YAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,CAAC;SAAE;QAEzF,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC9C,CAAC;CACF;AAjBD,8BAiBC","sourcesContent":["import { ITeam } from '../Interfaces/Teams/ITeam';\nimport { ITeamModel } from '../Interfaces/Teams/ITeamModel';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport TeamModel from '../models/TeamsModel';\n\nexport default class TeamService {\n  constructor(\n    private teamModel: ITeamModel = new TeamModel(),\n  ) { }\n\n  public async getTeams(): Promise<ServiceResponse<ITeam[]>> {\n    const allTeams = await this.teamModel.findAll();\n    return { status: 'SUCCESSFUL', data: allTeams };\n  }\n\n  public async getTeamById(id: number): Promise<ServiceResponse<ITeam>> {\n    const team = await this.teamModel.findById(id);\n\n    if (!team) { return { status: 'NOT_FOUND', data: { message: `Team ${id} not found` } }; }\n\n    return { status: 'SUCCESSFUL', data: team };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f75a0542d5c7ceae62e67d7bf071552e466e7caf"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/TeamsModel.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/TeamsModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":67}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":45}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":48}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":67}},"5":{"start":{"line":10,"column":48},"end":{"line":10,"column":64}},"6":{"start":{"line":13,"column":23},"end":{"line":13,"column":52}},"7":{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":24}},"9":{"start":{"line":16,"column":29},"end":{"line":16,"column":35}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":32}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":25},"end":{"line":10,"column":26}},"loc":{"start":{"line":10,"column":48},"end":{"line":10,"column":64}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":18,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},{"start":{"line":14,"column":8},"end":{"line":15,"column":24}}],"line":14}},"s":{"0":1,"1":1,"2":2,"3":1,"4":1,"5":16,"6":3,"7":3,"8":1,"9":2,"10":2,"11":1},"f":{"0":2,"1":1,"2":16,"3":3},"b":{"0":[1,2]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/TeamsModel.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/TeamsModel.ts"],"names":[],"mappings":";;AAAA,oEAA8D;AAI9D,MAAqB,SAAS;IAA9B;QACU,UAAK,GAAG,uBAAc,CAAC;IAejC,CAAC;IAbC,KAAK,CAAC,OAAO;QACX,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACzC,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;IAC7D,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAe;QAC5B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAE7C,IAAI,MAAM,KAAK,IAAI;YAAE,OAAO,IAAI,CAAC;QAEjC,MAAM,EAAE,QAAQ,EAAE,GAAU,MAAM,CAAC;QACnC,OAAO,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC;IAC1B,CAAC;CACF;AAhBD,4BAgBC","sourcesContent":["import SequelizeTeams from '../database/models/SequelizeTeam';\nimport { ITeam } from '../Interfaces/Teams/ITeam';\nimport { ITeamModel } from '../Interfaces/Teams/ITeamModel';\n\nexport default class TeamModel implements ITeamModel {\n  private model = SequelizeTeams;\n\n  async findAll(): Promise<ITeam[]> {\n    const teams = await this.model.findAll();\n    return teams.map(({ id, teamName }) => ({ id, teamName }));\n  }\n\n  async findById(id: ITeam['id']): Promise<ITeam | null> {\n    const dbData = await this.model.findByPk(id);\n\n    if (dbData === null) return null;\n\n    const { teamName }: ITeam = dbData;\n    return { id, teamName };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2a4db5442b25b1f86195e4eb6de6e9f630021131"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/login.routes.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/login.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":59}},"4":{"start":{"line":6,"column":26},"end":{"line":6,"column":67}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":55}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":98}},"8":{"start":{"line":9,"column":61},"end":{"line":9,"column":96}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":100}},"10":{"start":{"line":10,"column":67},"end":{"line":10,"column":98}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":47},"end":{"line":9,"column":48}},"loc":{"start":{"line":9,"column":61},"end":{"line":9,"column":96}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":53},"end":{"line":10,"column":54}},"loc":{"start":{"line":10,"column":67},"end":{"line":10,"column":98}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":2,"11":1},"f":{"0":0,"1":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/login.routes.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/login.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,oEAA6D;AAC7D,4DAAqD;AACrD,oEAA6D;AAE7D,MAAM,eAAe,GAAG,IAAI,yBAAe,EAAE,CAAC;AAE9C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,yBAAe,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACxF,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,qBAAW,CAAC,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAE1F,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport UsersController from '../controllers/UsersController';\nimport Validations from '../middlewares/Validations';\nimport TokenValidation from '../middlewares/TokenValidation';\n\nconst usersController = new UsersController();\n\nconst router = Router();\n\nrouter.get('/role', TokenValidation, (req, res) => usersController.getByRole(req, res));\nrouter.post('/', Validations.validateUser, (req, res) => usersController.login(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2c3f8bac20c43a178b230b5267f717e08b4878d8"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/UsersController.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/UsersController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":57}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":56}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":39}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":39}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"7":{"start":{"line":13,"column":32},"end":{"line":13,"column":64}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":107}},"9":{"start":{"line":17,"column":32},"end":{"line":17,"column":86}},"10":{"start":{"line":18,"column":8},"end":{"line":18,"column":107}},"11":{"start":{"line":21,"column":25},"end":{"line":21,"column":35}},"12":{"start":{"line":22,"column":32},"end":{"line":22,"column":76}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":107}},"14":{"start":{"line":26,"column":36},"end":{"line":26,"column":44}},"15":{"start":{"line":27,"column":32},"end":{"line":27,"column":77}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":107}},"17":{"start":{"line":31,"column":0},"end":{"line":31,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":114},"end":{"line":11,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":30},"end":{"line":15,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":32},"end":{"line":19,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":30},"end":{"line":24,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":26},"end":{"line":29,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":58}},"type":"default-arg","locations":[{"start":{"line":7,"column":30},"end":{"line":7,"column":58}}],"line":7},"1":{"loc":{"start":{"line":7,"column":60},"end":{"line":7,"column":101}},"type":"default-arg","locations":[{"start":{"line":7,"column":74},"end":{"line":7,"column":101}}],"line":7},"2":{"loc":{"start":{"line":7,"column":103},"end":{"line":7,"column":112}},"type":"default-arg","locations":[{"start":{"line":7,"column":110},"end":{"line":7,"column":112}}],"line":7}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":2,"15":2,"16":2,"17":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":2},"b":{"0":[1],"1":[1],"2":[1]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/UsersController.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/UsersController.ts"],"names":[],"mappings":";;AACA,2DAAmD;AACnD,0DAAmD;AACnD,yDAAkD;AAElD,MAAqB,cAAc;IACjC,YACU,cAAc,IAAI,sBAAW,EAAE,EAC/B,cAAc,IAAI,qBAAW,EAAE,EAC/B,OAAO,EAAE;QAFT,gBAAW,GAAX,WAAW,CAAoB;QAC/B,gBAAW,GAAX,WAAW,CAAoB;QAC/B,SAAI,GAAJ,IAAI,CAAK;IACf,CAAC;IAEE,KAAK,CAAC,QAAQ,CAAC,IAAa,EAAE,GAAa;QAChD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QACzD,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,GAAY,EAAE,GAAa;QAClD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/E,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,SAAS,CAAC,GAAY,EAAE,GAAa;QAChD,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAC5B,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QACrE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,GAAY,EAAE,GAAa;QACrC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACtE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;CACF;AA5BD,iCA4BC","sourcesContent":["import { Request, Response } from 'express';\nimport UserService from '../services/UsersService';\nimport mapStatusHTTP from '../utils/mapStatusHTTP';\nimport AuthService from '../services/AuthService';\n\nexport default class UserController {\n  constructor(\n    private userService = new UserService(),\n    private authService = new AuthService(),\n    private role = '',\n  ) { }\n\n  public async getUsers(_req: Request, res: Response) {\n    const serviceResponse = await this.userService.findAll();\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  public async getUserById(req: Request, res: Response) {\n    const serviceResponse = await this.userService.findById(Number(req.params.id));\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  public async getByRole(req: Request, res: Response) {\n    const { user } = res.locals;\n    const serviceResponse = await this.userService.findRoleById(user.id);\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  async login(req: Request, res: Response): Promise<Response> {\n    const { email, password } = req.body;\n    const serviceResponse = await this.authService.login(email, password);\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fa494ace89303d6246c8060a42c0ff806ad07f00"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/UsersService.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/UsersService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":35}},"3":{"start":{"line":9,"column":25},"end":{"line":9,"column":55}},"4":{"start":{"line":10,"column":28},"end":{"line":10,"column":108}},"5":{"start":{"line":10,"column":77},"end":{"line":10,"column":106}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":59}},"7":{"start":{"line":14,"column":21},"end":{"line":14,"column":54}},"8":{"start":{"line":15,"column":8},"end":{"line":16,"column":80}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":80}},"10":{"start":{"line":17,"column":42},"end":{"line":17,"column":46}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":77}},"12":{"start":{"line":21,"column":23},"end":{"line":21,"column":56}},"13":{"start":{"line":22,"column":8},"end":{"line":23,"column":80}},"14":{"start":{"line":23,"column":12},"end":{"line":23,"column":80}},"15":{"start":{"line":24,"column":25},"end":{"line":24,"column":31}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":56}},"17":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":56},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":12,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":41},"end":{"line":10,"column":42}},"loc":{"start":{"line":10,"column":77},"end":{"line":10,"column":106}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":23},"end":{"line":19,"column":5}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":27},"end":{"line":26,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":54}},"type":"default-arg","locations":[{"start":{"line":5,"column":28},"end":{"line":5,"column":54}}],"line":5},"1":{"loc":{"start":{"line":15,"column":8},"end":{"line":16,"column":80}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":16,"column":80}},{"start":{"line":15,"column":8},"end":{"line":16,"column":80}}],"line":15},"2":{"loc":{"start":{"line":22,"column":8},"end":{"line":23,"column":80}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":23,"column":80}},{"start":{"line":22,"column":8},"end":{"line":23,"column":80}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[1],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/UsersService.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/UsersService.ts"],"names":[],"mappings":";;AACA,qDAA6C;AAI7C,MAAqB,WAAW;IAC9B,YACU,YAAwB,IAAI,oBAAS,EAAE;QAAvC,cAAS,GAAT,SAAS,CAA8B;IAC7C,CAAC;IAEE,KAAK,CAAC,OAAO;QAClB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QAChD,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,CACjE,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QACnC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;IACrD,CAAC;IAEM,KAAK,CAAC,QAAQ,CAAC,EAAU;QAC9B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI;YAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE,CAAC;QAC/E,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAa,CAAC;QAEhD,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC;IACvE,CAAC;IAEM,KAAK,CAAC,YAAY,CAAC,EAAU;QAClC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACjD,IAAI,CAAC,MAAM;YAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE,CAAC;QACjF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;QAExB,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC;IAClD,CAAC;CACF;AA3BD,8BA2BC","sourcesContent":["import { GetUserRole, IUser, IUserResponse } from '../Interfaces/Users/IUser';\nimport UserModel from '../models/UsersModel';\nimport { IUserModel } from '../Interfaces/Users/IUserModel';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\n\nexport default class UserService {\n  constructor(\n    private userModel: IUserModel = new UserModel(),\n  ) { }\n\n  public async findAll(): Promise<ServiceResponse<IUserResponse[]>> {\n    const allUsers = await this.userModel.findAll();\n    const usersReturn = allUsers.map(({ id, username, role, email }) =>\n      ({ id, username, role, email }));\n    return { status: 'SUCCESSFUL', data: usersReturn };\n  }\n\n  public async findById(id: number): Promise<ServiceResponse<IUserResponse | GetUserRole>> {\n    const user = await this.userModel.findById(id);\n    if (!user) return { status: 'NOT_FOUND', data: { message: 'User not found' } };\n    const { username, email, role } = user as IUser;\n\n    return { status: 'SUCCESSFUL', data: { id, username, role, email } };\n  }\n\n  public async findRoleById(id: number): Promise<ServiceResponse<GetUserRole>> {\n    const userId = await this.userModel.findById(id);\n    if (!userId) return { status: 'NOT_FOUND', data: { message: 'User not found' } };\n    const { role } = userId;\n\n    return { status: 'SUCCESSFUL', data: { role } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"837655e050ab6b6321f6d7c3127d33a8ec29788b"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/UsersModel.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/UsersModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":26},"end":{"line":3,"column":71}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"3":{"start":{"line":9,"column":23},"end":{"line":9,"column":49}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":114}},"5":{"start":{"line":10,"column":72},"end":{"line":10,"column":111}},"6":{"start":{"line":13,"column":21},"end":{"line":13,"column":50}},"7":{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":24}},"9":{"start":{"line":16,"column":52},"end":{"line":16,"column":56}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":55}},"11":{"start":{"line":20,"column":21},"end":{"line":20,"column":67}},"12":{"start":{"line":21,"column":8},"end":{"line":22,"column":24}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":24}},"14":{"start":{"line":23,"column":8},"end":{"line":23,"column":29}},"15":{"start":{"line":26,"column":21},"end":{"line":26,"column":50}},"16":{"start":{"line":27,"column":8},"end":{"line":28,"column":24}},"17":{"start":{"line":28,"column":12},"end":{"line":28,"column":24}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":25}},"19":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":20},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":26},"end":{"line":10,"column":27}},"loc":{"start":{"line":10,"column":72},"end":{"line":10,"column":111}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":23},"end":{"line":18,"column":5}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":29},"end":{"line":24,"column":5}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":26},"end":{"line":30,"column":5}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":15,"column":24}},{"start":{"line":14,"column":8},"end":{"line":15,"column":24}}],"line":14},"1":{"loc":{"start":{"line":21,"column":8},"end":{"line":22,"column":24}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":22,"column":24}},{"start":{"line":21,"column":8},"end":{"line":22,"column":24}}],"line":21},"2":{"loc":{"start":{"line":27,"column":8},"end":{"line":28,"column":24}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":28,"column":24}},{"start":{"line":27,"column":8},"end":{"line":28,"column":24}}],"line":27}},"s":{"0":1,"1":1,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":2,"12":2,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":2,"5":0},"b":{"0":[0,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/UsersModel.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/UsersModel.ts"],"names":[],"mappings":";;AAAA,wEAA+D;AAI/D,MAAqB,SAAS;IAA9B;QACU,UAAK,GAAG,yBAAa,CAAC;IA2BhC,CAAC;IAzBC,KAAK,CAAC,OAAO;QACX,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QAC1C,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,CAC7D,EAAE,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CACxC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAe;QAC5B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QACvB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QACjD,OAAO,EAAE,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,KAAa;QAC7B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QACvB,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAe;QAC/B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;CACF;AA5BD,4BA4BC","sourcesContent":["import SequelizeUser from '../database/models/SequelelizeUser';\nimport { IUser } from '../Interfaces/Users/IUser';\nimport { IUserModel } from '../Interfaces/Users/IUserModel';\n\nexport default class UserModel implements IUserModel {\n  private model = SequelizeUser;\n\n  async findAll(): Promise<IUser[]> {\n    const dbData = await this.model.findAll();\n    return dbData.map(({ id, email, password, username, role }) => (\n      { id, email, password, username, role }\n    ));\n  }\n\n  async findById(id: IUser['id']): Promise<IUser | null> {\n    const user = await this.model.findByPk(id);\n    if (!user) return null;\n    const { email, password, username, role } = user;\n    return { id, email, password, username, role };\n  }\n\n  async findByEmail(email: string): Promise<IUser | null> {\n    const user = await this.model.findOne({ where: { email } });\n    if (!user) return null;\n    return user.toJSON();\n  }\n\n  async getUserRole(id: IUser['id']): Promise<IUser['role'] | null> {\n    const user = await this.model.findByPk(id);\n    if (!user) return null;\n    return user.role;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35974da32127d700c107b8de89210633a241eccb"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/AuthService.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/AuthService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":30},"end":{"line":5,"column":73}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":35}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":37}},"6":{"start":{"line":12,"column":21},"end":{"line":12,"column":60}},"7":{"start":{"line":13,"column":8},"end":{"line":14,"column":94}},"8":{"start":{"line":14,"column":12},"end":{"line":14,"column":94}},"9":{"start":{"line":15,"column":32},"end":{"line":15,"column":77}},"10":{"start":{"line":16,"column":8},"end":{"line":23,"column":9}},"11":{"start":{"line":17,"column":12},"end":{"line":22,"column":14}},"12":{"start":{"line":24,"column":22},"end":{"line":26,"column":10}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":57}},"14":{"start":{"line":30,"column":0},"end":{"line":30,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":106},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":33},"end":{"line":28,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":54}},"type":"default-arg","locations":[{"start":{"line":7,"column":28},"end":{"line":7,"column":54}}],"line":7},"1":{"loc":{"start":{"line":7,"column":56},"end":{"line":7,"column":104}},"type":"default-arg","locations":[{"start":{"line":7,"column":69},"end":{"line":7,"column":104}}],"line":7},"2":{"loc":{"start":{"line":13,"column":8},"end":{"line":14,"column":94}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":14,"column":94}},{"start":{"line":13,"column":8},"end":{"line":14,"column":94}}],"line":13},"3":{"loc":{"start":{"line":16,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":23,"column":9}},{"start":{"line":16,"column":8},"end":{"line":23,"column":9}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":2,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":1},"f":{"0":1,"1":2},"b":{"0":[1],"1":[1],"2":[1,1],"3":[1,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/AuthService.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/AuthService.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,qDAA6C;AAK7C,0EAAmE;AAEnE,MAAqB,WAAW;IAC9B,YACU,YAAwB,IAAI,oBAAS,EAAE,EACvC,aAAmB,IAAI,6BAAmB,EAAE;QAD5C,cAAS,GAAT,SAAS,CAA8B;QACvC,eAAU,GAAV,UAAU,CAAkC;IAClD,CAAC;IAEL,KAAK,CAAC,KAAK,CAAC,KAAa,EAAE,QAAgB;QACzC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI;YAAE,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,2BAA2B,EAAE,EAAE,CAAC;QAE7F,MAAM,eAAe,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEtE,IAAI,CAAC,eAAe,EAAE;YACpB,OAAO;gBACL,MAAM,EAAE,cAAc;gBACtB,IAAI,EAAE;oBACJ,OAAO,EAAE,2BAA2B;iBAAE;aAAE,CAAC;SAC9C;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACjC,EAAE,EAAE,IAAI,CAAC,EAAE;SACZ,CAAC,CAAC;QAEH,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC;IACnD,CAAC;CACF;AAzBD,8BAyBC","sourcesContent":["import * as bcrypt from 'bcryptjs';\nimport UserModel from '../models/UsersModel';\nimport { IUserModel } from '../Interfaces/Users/IUserModel';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport { IToken } from '../Interfaces/IToken';\nimport { IJwt } from '../utils/jwt/JWT';\nimport JsonWebTokenAdapter from '../utils/jwt/JsonWebTokenAdapter';\n\nexport default class AuthService {\n  constructor(\n    private userModel: IUserModel = new UserModel(),\n    private jwtService: IJwt = new JsonWebTokenAdapter(),\n  ) { }\n\n  async login(email: string, password: string): Promise<ServiceResponse<IToken>> {\n    const user = await this.userModel.findByEmail(email);\n    if (!user) return { status: 'UNAUTHORIZED', data: { message: 'Invalid email or password' } };\n\n    const isValidPassword = await bcrypt.compare(password, user.password);\n\n    if (!isValidPassword) {\n      return {\n        status: 'UNAUTHORIZED',\n        data: {\n          message: 'Invalid email or password' } };\n    }\n\n    const token = this.jwtService.sign({\n      id: user.id,\n    });\n\n    return { status: 'SUCCESSFUL', data: { token } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3f44bcd310713e15aa1aa5bed1c10a1127a023f7"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/jwt/JsonWebTokenAdapter.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/jwt/JsonWebTokenAdapter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":35}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":87}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":66}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":38}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":63}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":13,"column":5}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":29},"end":{"line":16,"column":62}},"type":"binary-expr","locations":[{"start":{"line":16,"column":29},"end":{"line":16,"column":50}},{"start":{"line":16,"column":54},"end":{"line":16,"column":62}}],"line":16}},"s":{"0":1,"1":1,"2":3,"3":0,"4":0,"5":1,"6":1},"f":{"0":3,"1":0,"2":0},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/jwt/JsonWebTokenAdapter.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/utils/jwt/JsonWebTokenAdapter.ts"],"names":[],"mappings":";;AAAA,oCAAoC;AAGpC,MAAqB,mBAAmB;IAAxC;QACU,QAAG,GAAG,GAAG,CAAC;IAWpB,CAAC;IAPC,IAAI,CAAC,OAAe;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,mBAAmB,CAAC,MAAM,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IACjF,CAAC;IAED,MAAM,CAAC,KAAa;QAClB,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,mBAAmB,CAAC,MAAM,CAAW,CAAC;IACtE,CAAC;;AAXH,sCAYC;AATQ,0BAAM,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,QAAQ,CAAC","sourcesContent":["import * as jwt from 'jsonwebtoken';\nimport { IJwt } from './JWT';\n\nexport default class JsonWebTokenAdapter implements IJwt {\n  private jwt = jwt;\n\n  static secret = process.env.JWT_TOKEN || 'secret';\n\n  sign(payload: object): string {\n    return this.jwt.sign(payload, JsonWebTokenAdapter.secret, { expiresIn: '1d' });\n  }\n\n  verify(token: string): object {\n    return this.jwt.verify(token, JsonWebTokenAdapter.secret) as object;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5582ec0d46f02b4539b7f1c81bf771c7951339e4"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/Validations.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/Validations.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":36},"end":{"line":5,"column":44}},"2":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"3":{"start":{"line":7,"column":12},"end":{"line":7,"column":82}},"4":{"start":{"line":9,"column":27},"end":{"line":9,"column":72}},"5":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":82}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":15}},"8":{"start":{"line":16,"column":43},"end":{"line":16,"column":51}},"9":{"start":{"line":17,"column":8},"end":{"line":20,"column":9}},"10":{"start":{"line":18,"column":12},"end":{"line":19,"column":96}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":15}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":40},"end":{"line":14,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":40},"end":{"line":22,"column":5}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},{"start":{"line":6,"column":8},"end":{"line":8,"column":9}}],"line":6},"1":{"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":31}},"type":"binary-expr","locations":[{"start":{"line":6,"column":12},"end":{"line":6,"column":18}},{"start":{"line":6,"column":22},"end":{"line":6,"column":31}}],"line":6},"2":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"3":{"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":58}},"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":35}},{"start":{"line":10,"column":39},"end":{"line":10,"column":58}}],"line":10},"4":{"loc":{"start":{"line":17,"column":8},"end":{"line":20,"column":9}},"type":"if","locations":[{"start":{"line":17,"column":8},"end":{"line":20,"column":9}},{"start":{"line":17,"column":8},"end":{"line":20,"column":9}}],"line":17}},"s":{"0":1,"1":5,"2":5,"3":2,"4":3,"5":3,"6":1,"7":2,"8":0,"9":0,"10":0,"11":0,"12":1},"f":{"0":5,"1":0},"b":{"0":[2,3],"1":[5,4],"2":[1,2],"3":[3,2],"4":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/Validations.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/Validations.ts"],"names":[],"mappings":";;AAEA,MAAqB,WAAW;IAC9B,MAAM,CAAC,YAAY,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACjE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;YACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;SACvE;QACD,MAAM,UAAU,GAAG,6CAA6C,CAAC;QACjE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;SACvE;QACD,IAAI,EAAE,CAAC;IACT,CAAC;IAED,MAAM,CAAC,YAAY,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QACjE,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAC5C,IAAI,UAAU,KAAK,UAAU,EAAE;YAC7B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;iBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,2DAA2D,EAAE,CAAC,CAAC;SACnF;QACD,IAAI,EAAE,CAAC;IACT,CAAC;CACF;AArBD,8BAqBC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nexport default class Validations {\n  static validateUser(req: Request, res: Response, next: NextFunction) {\n    const { email, password } = req.body;\n    if (!email || !password) {\n      return res.status(400).json({ message: 'All fields must be filled' });\n    }\n    const emailRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!emailRegex.test(email) || password.length < 6) {\n      return res.status(401).json({ message: 'Invalid email or password' });\n    }\n    next();\n  }\n\n  static validateTeam(req: Request, res: Response, next: NextFunction) {\n    const { homeTeamId, awayTeamId } = req.body;\n    if (homeTeamId === awayTeamId) {\n      return res.status(422)\n        .json({ message: 'It is not possible to create a match with two equal teams' });\n    }\n    next();\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1d8885fdddefd42e612bdfa74ecacb0cbe1863e7"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/TokenValidation.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/TokenValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":30},"end":{"line":3,"column":73}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":54}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":68}},"6":{"start":{"line":10,"column":22},"end":{"line":10,"column":37}},"7":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":80}},"9":{"start":{"line":14,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":15,"column":24},"end":{"line":15,"column":48}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":34}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":22}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":80}},"14":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}}},"fnMap":{"0":{"name":"TokenValidation","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":24}},"loc":{"start":{"line":5,"column":41},"end":{"line":22,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},{"start":{"line":7,"column":4},"end":{"line":9,"column":5}}],"line":7},"1":{"loc":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},{"start":{"line":11,"column":4},"end":{"line":13,"column":5}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":3,"4":3,"5":1,"6":2,"7":2,"8":2,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":3},"b":{"0":[1,2],"1":[2,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/TokenValidation.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/TokenValidation.ts"],"names":[],"mappings":";;AACA,0EAAmE;AAEnE,MAAM,UAAU,GAAG,IAAI,6BAAmB,EAAE,CAAC;AAE7C,SAAwB,eAAe,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IAErF,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;IACvC,IAAI,CAAC,IAAI,EAAE;QACT,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;KAC7D;IACD,MAAM,CAAC,EAAE,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAClC,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;IACD,IAAI;QACF,MAAM,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACzC,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;QAC1B,OAAO,IAAI,EAAE,CAAC;KACf;IAAC,MAAM;QACN,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;AACH,CAAC;AAjBD,kCAiBC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport JsonWebTokenAdapter from '../utils/jwt/JsonWebTokenAdapter';\n\nconst jwtService = new JsonWebTokenAdapter();\n\nexport default function TokenValidation(req: Request, res: Response, next: NextFunction):\nResponse | void {\n  const auth = req.headers.authorization;\n  if (!auth) {\n    return res.status(401).json({ message: 'Token not found' });\n  }\n  const [, token] = auth.split(' ');\n  if (!token) {\n    return res.status(401).json({ message: 'Token must be a valid token' });\n  }\n  try {\n    const decoded = jwtService.verify(token);\n    res.locals.user = decoded;\n    return next();\n  } catch {\n    return res.status(401).json({ message: 'Token must be a valid token' });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b388b6aeb22295d4312de5b8ac1e440429e0528d"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/matches.routes.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/matches.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":71}},"3":{"start":{"line":5,"column":26},"end":{"line":5,"column":67}},"4":{"start":{"line":6,"column":22},"end":{"line":6,"column":59}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":57}},"6":{"start":{"line":8,"column":15},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":68}},"8":{"start":{"line":9,"column":30},"end":{"line":9,"column":66}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":101}},"10":{"start":{"line":10,"column":62},"end":{"line":10,"column":99}},"11":{"start":{"line":11,"column":0},"end":{"line":11,"column":108}},"12":{"start":{"line":11,"column":69},"end":{"line":11,"column":106}},"13":{"start":{"line":12,"column":0},"end":{"line":12,"column":133}},"14":{"start":{"line":12,"column":94},"end":{"line":12,"column":131}},"15":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":66}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":48},"end":{"line":10,"column":49}},"loc":{"start":{"line":10,"column":62},"end":{"line":10,"column":99}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":55},"end":{"line":11,"column":56}},"loc":{"start":{"line":11,"column":69},"end":{"line":11,"column":106}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":80},"end":{"line":12,"column":81}},"loc":{"start":{"line":12,"column":94},"end":{"line":12,"column":131}},"line":12}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1},"f":{"0":4,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/matches.routes.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/matches.routes.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,wEAA+D;AAC/D,oEAA6D;AAC7D,4DAAqD;AAErD,MAAM,eAAe,GAAG,IAAI,2BAAe,EAAE,CAAC;AAC9C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AACvF,MAAM,CAAC,KAAK,CACV,MAAM,EACN,yBAAe,EACf,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CACvE,CAAC;AAEF,MAAM,CAAC,KAAK,CACV,aAAa,EACb,yBAAe,EACf,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CACvE,CAAC;AAEF,MAAM,CAAC,IAAI,CACT,GAAG,EACH,yBAAe,EACf,qBAAW,CAAC,YAAY,EACxB,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,CACvE,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Router, Response } from 'express';\nimport MatchController from '../controllers/MatchesController';\nimport TokenValidation from '../middlewares/TokenValidation';\nimport Validations from '../middlewares/Validations';\n\nconst matchController = new MatchController();\nconst router = Router();\n\nrouter.get('/', (req: Request, res: Response) => matchController.getMatches(req, res));\nrouter.patch(\n  '/:id',\n  TokenValidation,\n  (req: Request, res: Response) => matchController.updateMatch(req, res),\n);\n\nrouter.patch(\n  '/:id/finish',\n  TokenValidation,\n  (req: Request, res: Response) => matchController.finishMatch(req, res),\n);\n\nrouter.post(\n  '/',\n  TokenValidation,\n  Validations.validateTeam,\n  (req: Request, res: Response) => matchController.createMatch(req, res),\n);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4fce58bd50a821dc763b398c7c66a87245b2b47b"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":57}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":41}},"4":{"start":{"line":10,"column":31},"end":{"line":10,"column":41}},"5":{"start":{"line":11,"column":8},"end":{"line":14,"column":9}},"6":{"start":{"line":12,"column":36},"end":{"line":12,"column":103}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":111}},"8":{"start":{"line":15,"column":32},"end":{"line":15,"column":68}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":107}},"10":{"start":{"line":19,"column":23},"end":{"line":19,"column":34}},"11":{"start":{"line":20,"column":49},"end":{"line":20,"column":58}},"12":{"start":{"line":21,"column":32},"end":{"line":22,"column":70}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":115}},"14":{"start":{"line":26,"column":23},"end":{"line":26,"column":34}},"15":{"start":{"line":27,"column":32},"end":{"line":27,"column":102}},"16":{"start":{"line":28,"column":8},"end":{"line":28,"column":110}},"17":{"start":{"line":31,"column":22},"end":{"line":31,"column":31}},"18":{"start":{"line":32,"column":32},"end":{"line":32,"column":69}},"19":{"start":{"line":33,"column":8},"end":{"line":33,"column":107}},"20":{"start":{"line":36,"column":0},"end":{"line":36,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":62},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":32},"end":{"line":17,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":33},"end":{"line":24,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":33},"end":{"line":29,"column":5}},"line":25},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":33},"end":{"line":34,"column":5}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":60}},"type":"default-arg","locations":[{"start":{"line":6,"column":31},"end":{"line":6,"column":60}}],"line":6},"1":{"loc":{"start":{"line":11,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":14,"column":9}},{"start":{"line":11,"column":8},"end":{"line":14,"column":9}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":4,"5":4,"6":2,"7":2,"8":2,"9":2,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":1,"1":4,"2":0,"3":0,"4":0},"b":{"0":[1],"1":[2,2]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts"],"names":[],"mappings":";;AACA,6DAAqD;AACrD,0DAAmD;AAEnD,MAAqB,eAAe;IAClC,YACU,eAAe,IAAI,uBAAY,EAAE;QAAjC,iBAAY,GAAZ,YAAY,CAAqB;IACvC,CAAC;IAEE,KAAK,CAAC,UAAU,CAAC,IAAa,EAAE,GAAa;QAClD,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAElC,IAAI,UAAU,EAAE;YACd,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,UAAU,KAAK,MAAM,CAAC,CAAC;YAC5F,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;SACrF;QACD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;QAC7D,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,IAAa,EAAE,GAAa;QACnD,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC;QAEnD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,YAAY;aAC5C,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC,CAAC;QAE7D,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;IAC9F,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,IAAa,EAAE,GAAa;QACnD,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,CAAC;QAE/F,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACzF,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,IAAa,EAAE,GAAa;QACnD,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;QACxB,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAE9D,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;CACF;AAvCD,kCAuCC","sourcesContent":["import { Request, Response } from 'express';\nimport MatchService from '../services/MatchsService';\nimport mapStatusHTTP from '../utils/mapStatusHTTP';\n\nexport default class MatchController {\n  constructor(\n    private matchService = new MatchService(),\n  ) { }\n\n  public async getMatches(_req: Request, res: Response) {\n    const { inProgress } = _req.query;\n\n    if (inProgress) {\n      const serviceResponse = await this.matchService.getMatchesByProgress(inProgress === 'true');\n      return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n    }\n    const serviceResponse = await this.matchService.getMatches();\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  public async updateMatch(_req: Request, res: Response) {\n    const { id } = _req.params;\n    const { homeTeamGoals, awayTeamGoals } = _req.body;\n\n    const serviceResponse = await this.matchService\n      .updateMatch(Number(id), { homeTeamGoals, awayTeamGoals });\n\n    return res.status(mapStatusHTTP(serviceResponse.status)).json({ message: 'Match updated' });\n  }\n\n  public async finishMatch(_req: Request, res: Response) {\n    const { id } = _req.params;\n    const serviceResponse = await this.matchService.updateMatch(Number(id), { inProgress: false });\n\n    return res.status(mapStatusHTTP(serviceResponse.status)).json({ message: 'Finished' });\n  }\n\n  public async createMatch(_req: Request, res: Response) {\n    const teams = _req.body;\n    const serviceResponse = await this.matchService.create(teams);\n\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76c1cf542c7bf945b0cf3d35b3823c4bf737aa71"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/MatchsService.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/MatchsService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":22},"end":{"line":3,"column":54}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"3":{"start":{"line":9,"column":27},"end":{"line":9,"column":58}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":58}},"5":{"start":{"line":13,"column":34},"end":{"line":13,"column":84}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":65}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":52}},"9":{"start":{"line":21,"column":22},"end":{"line":21,"column":56}},"10":{"start":{"line":22,"column":8},"end":{"line":23,"column":96}},"11":{"start":{"line":23,"column":12},"end":{"line":23,"column":96}},"12":{"start":{"line":24,"column":8},"end":{"line":24,"column":50}},"13":{"start":{"line":27,"column":0},"end":{"line":27,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":58},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":23},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":43},"end":{"line":15,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":32},"end":{"line":19,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":23},"end":{"line":25,"column":5}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":56}},"type":"default-arg","locations":[{"start":{"line":5,"column":29},"end":{"line":5,"column":56}}],"line":5},"1":{"loc":{"start":{"line":22,"column":8},"end":{"line":23,"column":96}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":23,"column":96}},{"start":{"line":22,"column":8},"end":{"line":23,"column":96}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2,"6":2,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":2,"2":2,"3":0,"4":0},"b":{"0":[1],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/MatchsService.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/MatchsService.ts"],"names":[],"mappings":";;AAGA,uDAA+C;AAE/C,MAAqB,YAAY;IAC/B,YACU,aAA0B,IAAI,qBAAU,EAAE;QAA1C,eAAU,GAAV,UAAU,CAAgC;IAChD,CAAC;IAEE,KAAK,CAAC,UAAU;QACrB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QACnD,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;IACpD,CAAC;IAEM,KAAK,CAAC,oBAAoB,CAAC,UAAmB;QACnD,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAC7E,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC;IAC3D,CAAC;IAEM,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,IAAqB;QAExD,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACvC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IAC9C,CAAC;IAEM,KAAK,CAAC,MAAM,CAAC,IAAqB;QACvC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK;YAAE,OAAO,EAAE,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gCAAgC,EAAE,EAAE,CAAC;QAChG,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IAC5C,CAAC;CACF;AA1BD,+BA0BC","sourcesContent":["import { IMatch } from '../Interfaces/Matches/IMatch';\nimport { IMatchModel } from '../Interfaces/Matches/IMatchModel';\nimport { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport MatchModel from '../models/MatchsModel';\n\nexport default class MatchService {\n  constructor(\n    private matchModel: IMatchModel = new MatchModel(),\n  ) { }\n\n  public async getMatches(): Promise<ServiceResponse<IMatch[]>> {\n    const allMatches = await this.matchModel.findAll();\n    return { status: 'SUCCESSFUL', data: allMatches };\n  }\n\n  public async getMatchesByProgress(inProgress: boolean): Promise<ServiceResponse<IMatch[]>> {\n    const matchesInProgress = await this.matchModel.filterByProgress(inProgress);\n    return { status: 'SUCCESSFUL', data: matchesInProgress };\n  }\n\n  public async updateMatch(id: number, data: Partial<IMatch>):\n  Promise<ServiceResponse<null>> {\n    await this.matchModel.update(id, data);\n    return { status: 'SUCCESSFUL', data: null };\n  }\n\n  public async create(data: Partial<IMatch>): Promise<ServiceResponse<IMatch>> {\n    const match = await this.matchModel.create(data);\n    if (!match) return { status: 'NOT_FOUND', data: { message: 'There is no team with such id!' } };\n    return { status: 'CREATED', data: match };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0a4d1d058cbf13193d2f8f81d6bb758ec136e721"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/MatchsModel.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/MatchsModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":67}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":69}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":46}},"4":{"start":{"line":10,"column":24},"end":{"line":15,"column":10}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":23}},"6":{"start":{"line":19,"column":32},"end":{"line":25,"column":10}},"7":{"start":{"line":26,"column":8},"end":{"line":26,"column":31}},"8":{"start":{"line":29,"column":8},"end":{"line":29,"column":57}},"9":{"start":{"line":32,"column":25},"end":{"line":32,"column":80}},"10":{"start":{"line":33,"column":25},"end":{"line":33,"column":80}},"11":{"start":{"line":34,"column":8},"end":{"line":35,"column":24}},"12":{"start":{"line":35,"column":12},"end":{"line":35,"column":24}},"13":{"start":{"line":36,"column":25},"end":{"line":36,"column":54}},"14":{"start":{"line":37,"column":8},"end":{"line":37,"column":24}},"15":{"start":{"line":40,"column":0},"end":{"line":40,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":20},"end":{"line":17,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":35},"end":{"line":27,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":27},"end":{"line":30,"column":5}},"line":28},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":23},"end":{"line":38,"column":5}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":34,"column":8},"end":{"line":35,"column":24}},"type":"if","locations":[{"start":{"line":34,"column":8},"end":{"line":35,"column":24}},{"start":{"line":34,"column":8},"end":{"line":35,"column":24}}],"line":34},"1":{"loc":{"start":{"line":34,"column":12},"end":{"line":34,"column":34}},"type":"binary-expr","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":21}},{"start":{"line":34,"column":25},"end":{"line":34,"column":34}}],"line":34}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":2,"6":2,"7":2,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"f":{"0":2,"1":2,"2":2,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/MatchsModel.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/MatchsModel.ts"],"names":[],"mappings":";;AAAA,oEAA6D;AAC7D,sEAA+D;AAI/D,MAAqB,UAAU;IAA/B;QACU,UAAK,GAAG,wBAAc,CAAC;IAqCjC,CAAC;IAnCC,KAAK,CAAC,OAAO;QACX,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACvC,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,uBAAa,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAClE,EAAE,KAAK,EAAE,uBAAa,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aACnE;SACF,CAAC,CAAC;QACH,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,MAAe;QACpC,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAC/C,KAAK,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE;YAC7B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,uBAAa,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAClE,EAAE,KAAK,EAAE,uBAAa,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aACnE;SACF,CAAC,CAAC;QACH,OAAO,eAAe,CAAC;IACzB,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,EAAU,EAAE,IAAqB;QAC5C,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CACrB,IAAI,EACJ,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAClB,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,IAAY;QACvB,MAAM,QAAQ,GAAG,MAAM,uBAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/D,MAAM,QAAQ,GAAG,MAAM,uBAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC/D,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ;YAAE,OAAO,IAAI,CAAC;QACxC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/C,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF;AAtCD,6BAsCC","sourcesContent":["import SequelizeTeam from '../database/models/SequelizeTeam';\nimport SequelizeMatch from '../database/models/SequelizeMatch';\nimport { IMatch } from '../Interfaces/Matches/IMatch';\nimport { IMatchModel } from '../Interfaces/Matches/IMatchModel';\n\nexport default class MatchModel implements IMatchModel {\n  private model = SequelizeMatch;\n\n  async findAll(): Promise<IMatch[]> {\n    const matches = await this.model.findAll({\n      include: [\n        { model: SequelizeTeam, as: 'homeTeam', attributes: ['teamName'] },\n        { model: SequelizeTeam, as: 'awayTeam', attributes: ['teamName'] },\n      ],\n    });\n    return matches;\n  }\n\n  async filterByProgress(status: boolean): Promise<IMatch[]> {\n    const progressMatches = await this.model.findAll({\n      where: { inProgress: status },\n      include: [\n        { model: SequelizeTeam, as: 'homeTeam', attributes: ['teamName'] },\n        { model: SequelizeTeam, as: 'awayTeam', attributes: ['teamName'] },\n      ],\n    });\n    return progressMatches;\n  }\n\n  async update(id: number, data: Partial<IMatch>): Promise<void> {\n    await this.model.update(\n      data,\n      { where: { id } },\n    );\n  }\n\n  async create(data: IMatch): Promise<IMatch | null> {\n    const homeTeam = await SequelizeTeam.findByPk(data.homeTeamId);\n    const awayTeam = await SequelizeTeam.findByPk(data.awayTeamId);\n    if (!homeTeam || !awayTeam) return null;\n    const newMatch = await this.model.create(data);\n    return newMatch;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f764c24c3695b1506b3b3718fb1661acdc79316f"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/leaderboard.routes.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/leaderboard.routes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":32},"end":{"line":4,"column":79}},"3":{"start":{"line":5,"column":30},"end":{"line":5,"column":67}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":38}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":82}},"6":{"start":{"line":7,"column":34},"end":{"line":7,"column":80}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":86}},"8":{"start":{"line":8,"column":34},"end":{"line":8,"column":84}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":20},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":80}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":20},"end":{"line":8,"column":21}},"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":84}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/leaderboard.routes.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/routes/leaderboard.routes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,gFAAyE;AAEzE,MAAM,qBAAqB,GAAG,IAAI,+BAAqB,EAAE,CAAC;AAE1D,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAExB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,qBAAqB,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAClF,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;AAEtF,kBAAe,MAAM,CAAC","sourcesContent":["import { Router } from 'express';\nimport LeaderboardController from '../controllers/LeaderboardController';\n\nconst leaderboardController = new LeaderboardController();\n\nconst router = Router();\n\nrouter.get('/home', (req, res) => leaderboardController.getLeaderboard(req, res));\nrouter.get('/away', (req, res) => leaderboardController.getAwayLeaderboard(req, res));\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"caf4bfb1b0392f05f629141e4a729364ff5524cf"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/LeaderboardController.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/LeaderboardController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":70}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":57}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":53}},"4":{"start":{"line":10,"column":32},"end":{"line":10,"column":78}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":107}},"6":{"start":{"line":14,"column":32},"end":{"line":14,"column":82}},"7":{"start":{"line":15,"column":8},"end":{"line":15,"column":107}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":73},"end":{"line":8,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":35},"end":{"line":12,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":39},"end":{"line":16,"column":5}},"line":13}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":71}},"type":"default-arg","locations":[{"start":{"line":6,"column":37},"end":{"line":6,"column":71}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/LeaderboardController.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/controllers/LeaderboardController.ts"],"names":[],"mappings":";;AACA,uEAAgE;AAChE,0DAAmD;AAEnD,MAAqB,qBAAqB;IACxC,YACU,qBAAqB,IAAI,4BAAkB,EAAE;QAA7C,uBAAkB,GAAlB,kBAAkB,CAA2B;IACnD,CAAC;IAEE,KAAK,CAAC,cAAc,CAAC,GAAY,EAAE,GAAa;QACrD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;QACvE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,GAAY,EAAE,GAAa;QACzD,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,CAAC;QAC3E,OAAO,GAAG,CAAC,MAAM,CAAC,IAAA,uBAAa,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IACtF,CAAC;CACF;AAdD,wCAcC","sourcesContent":["import { Request, Response } from 'express';\nimport LeaderboardService from '../services/LeaderboardService';\nimport mapStatusHTTP from '../utils/mapStatusHTTP';\n\nexport default class LeaderboardController {\n  constructor(\n    private leaderboardService = new LeaderboardService(),\n  ) { }\n\n  public async getLeaderboard(req: Request, res: Response) {\n    const serviceResponse = await this.leaderboardService.getLeaderboard();\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n\n  public async getAwayLeaderboard(req: Request, res: Response) {\n    const serviceResponse = await this.leaderboardService.getAwayLeaderboard();\n    return res.status(mapStatusHTTP(serviceResponse.status)).json(serviceResponse.data);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7ced82de8ba5b01e703d32c64325c2ca03d2ad2a"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/LeaderboardService.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/LeaderboardService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":27},"end":{"line":3,"column":64}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":49}},"3":{"start":{"line":9,"column":28},"end":{"line":9,"column":73}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":59}},"5":{"start":{"line":13,"column":28},"end":{"line":13,"column":73}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":59}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":37}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":69},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":27},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":31},"end":{"line":15,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":67}},"type":"default-arg","locations":[{"start":{"line":5,"column":35},"end":{"line":5,"column":67}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/LeaderboardService.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/services/LeaderboardService.ts"],"names":[],"mappings":";;AAEA,iEAA0D;AAE1D,MAAqB,kBAAkB;IACrC,YACU,mBAAqC,IAAI,0BAAgB,EAAE;QAA3D,qBAAgB,GAAhB,gBAAgB,CAA2C;IACjE,CAAC;IAEE,KAAK,CAAC,cAAc;QACzB,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAC;QAClE,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;IACrD,CAAC;IAEM,KAAK,CAAC,kBAAkB;QAC7B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAC;QAClE,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC;IACrD,CAAC;CACF;AAdD,qCAcC","sourcesContent":["import { ServiceResponse } from '../Interfaces/ServiceResponse';\nimport { ILeaderboard } from '../Interfaces/Leaderboard/ILeaderboard';\nimport LeaderboardModel from '../models/LeaderboardModel';\n\nexport default class LeaderboardService {\n  constructor(\n    private leaderboardModel: LeaderboardModel = new LeaderboardModel(),\n  ) { }\n\n  public async getLeaderboard(): Promise<ServiceResponse<ILeaderboard[]>> {\n    const leaderboard = await this.leaderboardModel.homeLeaderboard();\n    return { status: 'SUCCESSFUL', data: leaderboard };\n  }\n\n  public async getAwayLeaderboard(): Promise<ServiceResponse<ILeaderboard[]>> {\n    const leaderboard = await this.leaderboardModel.awayLeaderboard();\n    return { status: 'SUCCESSFUL', data: leaderboard };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8bf8850df14c1e1e50b2adf0f4d4f0b6b3365ee5"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/LeaderboardModel.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/LeaderboardModel.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":21},"end":{"line":3,"column":44}},"2":{"start":{"line":4,"column":22},"end":{"line":4,"column":46}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":9,"column":8},"end":{"line":13,"column":11}},"6":{"start":{"line":9,"column":50},"end":{"line":13,"column":9}},"7":{"start":{"line":10,"column":48},"end":{"line":10,"column":89}},"8":{"start":{"line":11,"column":50},"end":{"line":11,"column":91}},"9":{"start":{"line":12,"column":49},"end":{"line":12,"column":92}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":116}},"11":{"start":{"line":14,"column":54},"end":{"line":14,"column":115}},"12":{"start":{"line":14,"column":91},"end":{"line":14,"column":111}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":55}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":40}},"15":{"start":{"line":23,"column":22},"end":{"line":23,"column":47}},"16":{"start":{"line":24,"column":32},"end":{"line":24,"column":60}},"17":{"start":{"line":25,"column":22},"end":{"line":25,"column":101}},"18":{"start":{"line":25,"column":60},"end":{"line":25,"column":99}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":21}},"20":{"start":{"line":29,"column":22},"end":{"line":29,"column":47}},"21":{"start":{"line":30,"column":32},"end":{"line":30,"column":60}},"22":{"start":{"line":31,"column":26},"end":{"line":34,"column":11}},"23":{"start":{"line":32,"column":32},"end":{"line":32,"column":95}},"24":{"start":{"line":32,"column":66},"end":{"line":32,"column":94}},"25":{"start":{"line":33,"column":12},"end":{"line":33,"column":55}},"26":{"start":{"line":35,"column":8},"end":{"line":35,"column":25}},"27":{"start":{"line":38,"column":28},"end":{"line":38,"column":91}},"28":{"start":{"line":38,"column":62},"end":{"line":38,"column":90}},"29":{"start":{"line":39,"column":73},"end":{"line":39,"column":105}},"30":{"start":{"line":40,"column":8},"end":{"line":49,"column":10}},"31":{"start":{"line":52,"column":40},"end":{"line":52,"column":74}},"32":{"start":{"line":53,"column":28},"end":{"line":53,"column":60}},"33":{"start":{"line":54,"column":8},"end":{"line":59,"column":10}},"34":{"start":{"line":62,"column":0},"end":{"line":62,"column":35}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":98},"end":{"line":15,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":32},"end":{"line":9,"column":33}},"loc":{"start":{"line":9,"column":50},"end":{"line":13,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":37},"end":{"line":10,"column":38}},"loc":{"start":{"line":10,"column":48},"end":{"line":10,"column":89}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":39},"end":{"line":11,"column":40}},"loc":{"start":{"line":11,"column":50},"end":{"line":11,"column":91}},"line":11},"4":{"name":"(anonymous_4)","decl":{"start":{"line":12,"column":38},"end":{"line":12,"column":39}},"loc":{"start":{"line":12,"column":49},"end":{"line":12,"column":92}},"line":12},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":54},"end":{"line":14,"column":115}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":14,"column":73},"end":{"line":14,"column":74}},"loc":{"start":{"line":14,"column":91},"end":{"line":14,"column":111}},"line":14},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":28},"end":{"line":18,"column":5}},"line":16},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":25},"end":{"line":21,"column":5}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":28},"end":{"line":27,"column":5}},"line":22},"10":{"name":"(anonymous_10)","decl":{"start":{"line":25,"column":50},"end":{"line":25,"column":51}},"loc":{"start":{"line":25,"column":60},"end":{"line":25,"column":99}},"line":25},"11":{"name":"(anonymous_11)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":28},"end":{"line":36,"column":5}},"line":28},"12":{"name":"(anonymous_12)","decl":{"start":{"line":31,"column":54},"end":{"line":31,"column":55}},"loc":{"start":{"line":31,"column":70},"end":{"line":34,"column":9}},"line":31},"13":{"name":"(anonymous_13)","decl":{"start":{"line":32,"column":55},"end":{"line":32,"column":56}},"loc":{"start":{"line":32,"column":66},"end":{"line":32,"column":94}},"line":32},"14":{"name":"(anonymous_14)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":45},"end":{"line":50,"column":5}},"line":37},"15":{"name":"(anonymous_15)","decl":{"start":{"line":38,"column":51},"end":{"line":38,"column":52}},"loc":{"start":{"line":38,"column":62},"end":{"line":38,"column":90}},"line":38},"16":{"name":"(anonymous_16)","decl":{"start":{"line":51,"column":4},"end":{"line":51,"column":5}},"loc":{"start":{"line":51,"column":32},"end":{"line":60,"column":5}},"line":51}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":54}},"type":"default-arg","locations":[{"start":{"line":6,"column":28},"end":{"line":6,"column":54}}],"line":6},"1":{"loc":{"start":{"line":6,"column":56},"end":{"line":6,"column":96}},"type":"default-arg","locations":[{"start":{"line":6,"column":69},"end":{"line":6,"column":96}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"0":[1],"1":[1]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/LeaderboardModel.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/models/LeaderboardModel.ts"],"names":[],"mappings":";;AACA,6CAAqC;AACrC,+CAAuC;AAIvC,MAAqB,gBAAgB;IACnC,YACU,YAAuB,IAAI,oBAAS,EAAE,EACtC,aAAyB,IAAI,qBAAU,EAAE;QADzC,cAAS,GAAT,SAAS,CAA6B;QACtC,eAAU,GAAV,UAAU,CAA+B;QAkD3C,qBAAgB,GAAG,CAAC,WAAqB,EACK,EAAE,CAAC,CAAC;YACxD,IAAI,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;YAC9E,MAAM,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa,CAAC;YAChF,KAAK,EAAE,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,aAAa,KAAK,KAAK,CAAC,aAAa,CAAC;SAClF,CAAC,CAAC;QAEK,mBAAc,GACtB,CAAC,WAAqB,EAAE,KAAwC,EAAU,EAAE,CAC1E,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IA1D5D,CAAC;IAEL,KAAK,CAAC,eAAe;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,KAAK,CAAC,YAAY;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,eAAe;QACnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QACxC,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAErD,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;QAE9F,OAAO,KAAK,CAAC;IACf,CAAC;IAED,KAAK,CAAC,eAAe;QACnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QACxC,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;QAErD,MAAM,SAAS,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;YAC3D,MAAM,WAAW,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;YACpF,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC,CAAC;QAEJ,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,KAAK,CAAC,WAAW,CAAC,IAAW,EAAE,eAAyB;QAC9D,MAAM,WAAW,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;QACpF,MAAM,EAAE,WAAW,EACjB,cAAc,EACd,UAAU,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAE/D,OAAO;YACL,IAAI,EAAE,IAAI,CAAC,QAAQ;YACnB,WAAW;YACX,UAAU,EAAE,WAAW,CAAC,MAAM;YAC9B,cAAc;YACd,UAAU;YACV,WAAW;YACX,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,eAAe,CAAC;YAC7D,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,eAAe,CAAC;SAC5D,CAAC;IACJ,CAAC;IAaO,cAAc,CAAC,WAAqB;QAC1C,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QACnE,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;QAErD,OAAO;YACL,WAAW;YACX,cAAc,EAAE,IAAI,CAAC,MAAM;YAC3B,UAAU,EAAE,KAAK,CAAC,MAAM;YACxB,WAAW,EAAE,MAAM,CAAC,MAAM;SAAE,CAAC;IACjC,CAAC;CACF;AA1ED,mCA0EC","sourcesContent":["import { ILeaderboard } from '../Interfaces/Leaderboard/ILeaderboard';\nimport TeamModel from './TeamsModel';\nimport MatchModel from './MatchsModel';\nimport { ITeam } from '../Interfaces/Teams/ITeam';\nimport { IMatch } from '../Interfaces/Matches/IMatch';\n\nexport default class LeaderboardModel {\n  constructor(\n    private teamModel: TeamModel = new TeamModel(),\n    private matchModel: MatchModel = new MatchModel(),\n  ) { }\n\n  async finishedMatches(): Promise<IMatch[]> {\n    return this.matchModel.filterByProgress(false);\n  }\n\n  async findAllTeams(): Promise<ITeam[]> {\n    return this.teamModel.findAll();\n  }\n\n  async homeLeaderboard(): Promise<ILeaderboard[]> {\n    const teams = await this.findAllTeams();\n    const finishedMatches = await this.finishedMatches();\n\n    const board = await Promise.all(teams.map((team) => this.processTeam(team, finishedMatches)));\n\n    return board;\n  }\n\n  async awayLeaderboard(): Promise<ILeaderboard[]> {\n    const teams = await this.findAllTeams();\n    const finishedMatches = await this.finishedMatches();\n\n    const awayBoard = await Promise.all(teams.map(async (team) => {\n      const teamMatches = finishedMatches.filter((match) => match.awayTeamId === team.id);\n      return this.processTeam(team, teamMatches);\n    }));\n\n    return awayBoard;\n  }\n\n  private async processTeam(team: ITeam, finishedMatches: IMatch[]): Promise<ILeaderboard> {\n    const teamMatches = finishedMatches.filter((match) => match.homeTeamId === team.id);\n    const { totalPoints,\n      totalVictories,\n      totalDraws, totalLosses } = this.calculateStats(teamMatches);\n\n    return {\n      name: team.teamName,\n      totalPoints,\n      totalGames: teamMatches.length,\n      totalVictories,\n      totalDraws,\n      totalLosses,\n      goalsFavor: this.calculateGoals(teamMatches, 'homeTeamGoals'),\n      goalsOwn: this.calculateGoals(teamMatches, 'awayTeamGoals'),\n    };\n  }\n\n  private calculateResults = (teamMatches: IMatch[]):\n  { wins: IMatch[], draws: IMatch[], losses: IMatch[] } => ({\n    wins: teamMatches.filter((match) => match.homeTeamGoals > match.awayTeamGoals),\n    losses: teamMatches.filter((match) => match.homeTeamGoals < match.awayTeamGoals),\n    draws: teamMatches.filter((match) => match.homeTeamGoals === match.awayTeamGoals),\n  });\n\n  private calculateGoals =\n  (teamMatches: IMatch[], goals: 'homeTeamGoals' | 'awayTeamGoals'): number =>\n    teamMatches.reduce((total, match) => total + match[goals], 0);\n\n  private calculateStats(teamMatches: IMatch[]) {\n    const { wins, losses, draws } = this.calculateResults(teamMatches);\n    const totalPoints = (wins.length * 3) + draws.length;\n\n    return {\n      totalPoints,\n      totalVictories: wins.length,\n      totalDraws: draws.length,\n      totalLosses: losses.length };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c228de66becfd44a6cb8bdc0715db400e5f263df"},"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/LoginValidation.ts":{"path":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/LoginValidation.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":30},"end":{"line":3,"column":73}},"2":{"start":{"line":6,"column":34},"end":{"line":6,"column":45}},"3":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":72}},"5":{"start":{"line":10,"column":26},"end":{"line":10,"column":50}},"6":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":72}},"8":{"start":{"line":14,"column":8},"end":{"line":21,"column":9}},"9":{"start":{"line":15,"column":28},"end":{"line":15,"column":61}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":38}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":26}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":81}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}},"14":{"start":{"line":25,"column":0},"end":{"line":25,"column":58}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":41},"end":{"line":22,"column":5}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},{"start":{"line":7,"column":8},"end":{"line":9,"column":9}}],"line":7},"1":{"loc":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},{"start":{"line":11,"column":8},"end":{"line":13,"column":9}}],"line":11}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/LoginValidation.ts","sources":["/home/yago/Trybe-Projetos/Back-End/Trybe-Projeto-09/sd-031-b-trybe-futebol-clube/app/backend/src/middlewares/LoginValidation.ts"],"names":[],"mappings":";;AACA,0EAAmE;AAGnE,MAAqB,eAAe;IAGlC,MAAM,CAAC,aAAa,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;QAClE,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,aAAa,EAAE;YAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;SAC7D;QACD,MAAM,CAAC,EAAE,KAAK,CAAC,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,EAAE;YACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;SAC7D;QACD,IAAI;YACF,MAAM,OAAO,GAAG,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAClD,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;YAC1B,OAAO,IAAI,EAAE,CAAC;SACf;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAC,CAAC;SACtE;IACH,CAAC;;AAnBH,kCAoBC;AAnBQ,mBAAG,GAAS,IAAI,6BAAmB,EAAE,CAAC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport JsonWebTokenAdapter from '../utils/jwt/JsonWebTokenAdapter';\nimport { IJwt } from '../utils/jwt/JWT';\n\nexport default class LoginValidation {\n  static jwt: IJwt = new JsonWebTokenAdapter();\n\n  static validateLogin(req: Request, res: Response, next: NextFunction) {\n    const { authorization } = req.headers;\n    if (!authorization) {\n      return res.status(401).json({ message: 'Token not found' });\n    }\n    const [, token] = authorization.split(' ');\n    if (!token) {\n      return res.status(401).json({ message: 'Token not found' });\n    }\n    try {\n      const decoded = LoginValidation.jwt.verify(token);\n      res.locals.user = decoded;\n      return next();\n    } catch (err) {\n      return res.status(401).json({ message: 'Expired or invalid token' });\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5aca71df20e691650538339da1706731217ffb90"}}